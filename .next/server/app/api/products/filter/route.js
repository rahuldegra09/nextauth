"use strict";(()=>{var e={};e.id=447,e.ids=[447],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7025:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>v,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>b});var o={};t.r(o),t.d(o,{GET:()=>p});var n=t(5419),i=t(9108),a=t(9678),s=t(2345),c=t(9516),u=t(8070);async function p(e){let{searchParams:r}=new URL(e.url),t=r.get("query");try{await (0,s.N)();let e=(await c.Z.find({"products.price":parseInt(t)},"products.title products.price")).map(e=>e.products.filter(e=>e.price===parseInt(t)).map(e=>({title:e.title,price:e.price}))).flat();return u.Z.json({data:e})}catch(e){return console.error(e),u.Z.json({error:"Internal Server Error"})}}let d=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/products/filter/route",pathname:"/api/products/filter",filename:"route",bundlePath:"app/api/products/filter/route"},resolvedPagePath:"/Users/rahuldegra/Desktop/internshala/app/api/products/filter/route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:g,headerHooks:h,staticGenerationBailout:b}=d,v="/api/products/filter/route";function f(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},2345:(e,r,t)=>{t.d(r,{N:()=>a});var o=t(1185),n=t.n(o);let i=process.env.MONGODB_URI;if(!i)throw Error("Please provide a MongoDB connection string in the environment variable MONGODB_URI");let a=async()=>{try{await n().connect(i),console.log("connecto in mongo db")}catch(e){console.log("not connected",e)}}},9516:(e,r,t)=>{t.d(r,{Z:()=>a});var o=t(1185),n=t.n(o);let i=new(n()).Schema({_id:n().Schema.Types.ObjectId,products:[{id:Number,title:String,description:String,price:Number,discountPercentage:Number,rating:Number,stock:Number,brand:String,category:String,thumbnail:String,images:[String]}],total:Number,skip:Number,limit:Number}),a=o.models.Product||n().model("Product",i,"products")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[638,206],()=>t(7025));module.exports=o})();