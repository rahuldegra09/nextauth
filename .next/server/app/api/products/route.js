"use strict";(()=>{var e={};e.id=684,e.ids=[684],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8432:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>v,patchFetch:()=>N,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>b});var o={};t.r(o),t.d(o,{GET:()=>p});var n=t(5419),a=t(9108),i=t(9678),s=t(2345),c=t(9516),u=t(8070);async function p(e){try{await (0,s.N)();let e=(await c.Z.find({},"products.title products.price")).map(e=>e.products.map(e=>({title:e.title,price:e.price}))).flat();return u.Z.json({data:e})}catch(e){return console.error(e),u.Z.json({error:"Internal Server Error"})}}let d=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"/Users/rahuldegra/Desktop/internshala/app/api/products/route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:g,headerHooks:h,staticGenerationBailout:b}=d,v="/api/products/route";function N(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},2345:(e,r,t)=>{t.d(r,{N:()=>i});var o=t(1185),n=t.n(o);let a=process.env.MONGODB_URI;if(!a)throw Error("Please provide a MongoDB connection string in the environment variable MONGODB_URI");let i=async()=>{try{await n().connect(a),console.log("connecto in mongo db")}catch(e){console.log("not connected",e)}}},9516:(e,r,t)=>{t.d(r,{Z:()=>i});var o=t(1185),n=t.n(o);let a=new(n()).Schema({_id:n().Schema.Types.ObjectId,products:[{id:Number,title:String,description:String,price:Number,discountPercentage:Number,rating:Number,stock:Number,brand:String,category:String,thumbnail:String,images:[String]}],total:Number,skip:Number,limit:Number}),i=o.models.Product||n().model("Product",a,"products")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[638,206],()=>t(8432));module.exports=o})();